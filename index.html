<!doctype html>
<html ng-app="app">
    <head>
        <meta charset="utf-8">
        <title>NL Table Editor</title>
        <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.4/cosmo/bootstrap.min.css" rel="stylesheet">
    </head>
    <body ng-controller="controller">
        <div class="container">
            <div class="page-header">
                <h1>NL Table Editor</h1>
            </div>
            <div class="row">
                <div class="col-sm-2" style="margin-bottom: 10px">
                    <select class="form-control" ng-options="table for table in tables" ng-model="table" ng-change="changeTable(table)"></select>
                </div>
                <div class="col-sm-10">
                    <nav ng-show="table">
                        <ul class="pager" style="margin: 0">
                            <li ng-class="{ disabled: page <= 1 }">
                                <a href="" ng-click="previous()">Previous</a>
                            </li>
                            <li class="disabled">
                                <a href="" ng-bind="page"></a>
                            </li>
                            <li ng-class="{ disabled: rows.length === 0 }">
                                <a href="" ng-click="next()">Next</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <hr />
            <table class="table table-condensed table-hover">
                <thead>
                    <tr>
                        <th ng-repeat="column in columns">
                            <span ng-bind="column" ng-if="column !== primary"></span>
                            <span class="label label-primary" ng-bind="column" ng-if="column === primary"></span>
                        </th>
                        <th ng-if="selected">Save</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="row in rows track by $index" ng-click="select(row)">
                        <td ng-repeat="column in columns">
                            <span ng-bind="row[column]" ng-if="!isSelected(row)"></span>
                            <input type="text" class="form-control" ng-model="row[column]" ng-if="isSelected(row)">
                        </td>
                        <td>
                            <button type="button" class="btn btn-primary btn-block" ng-if="isSelected(row)" ng-click="save(row)">Save</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js"></script>
        <script src="app.js"></script>
    </body>
</html>